<!doctype html>
<html lang="zh">
<head>
    <meta charset="utf-8" />
    <base href="/" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>HPL</title>
    <link rel="stylesheet" href="./assets/css/site.css" />
</head>
<body>
<div class="layout">
    <aside class="sidebar">
        <div class="brand">HPL · Leaderboard</div>

        <div class="block">
            <label class="label">赛季</label>
            <select id="seasonSelect" class="select"></select>
        </div>

        <div class="block">
            <label class="label">榜单（leaderboard_key）</label>
            <select id="lbSelect" class="select"></select>
        </div>

        <div class="block row">
            <a class="btn" href="./campaigns.html">返回 Campaigns</a>
            <button id="refreshBtn" class="btn primary">刷新</button>
        </div>

        <div class="block">
            <div class="pill" id="statusPill">Ready</div>
        </div>
    </aside>

    <main class="main">
        <div class="header">
            <div>
                <div class="h1">HPL</div>
                <div class="sub" id="subtitle">加载中…</div>
            </div>
        </div>

        <section class="card" style="margin-bottom:12px;">
            <div class="card-hd">
                <div>总榜</div>
                <div class="pill" id="metaPill">—</div>
            </div>
            <div class="card-bd">
                <table class="table">
                    <thead>
                    <tr><th class="col-rank">Rank</th><th>Team</th><th class="col-points">Points</th></tr>
                    </thead>
                    <tbody id="tableBody"></tbody>
                </table>
            </div>
        </section>

        <section class="card">
            <div class="card-hd">
                <div>轮次（score_components）</div>
                <div class="pill" id="roundMeta">—</div>
            </div>
            <div class="card-bd">
                <table class="table">
                    <thead>
                    <tr><th>Round</th><th>Date</th><th>Type</th><th class="col-points">Action</th></tr>
                    </thead>
                    <tbody id="roundBody"></tbody>
                </table>
            </div>
        </section>
    </main>
</div>

<!-- Team Drawer -->
<div id="teamDrawer" class="drawer">
    <div class="d-hd">
        <div>
            <div class="d-title" id="dTeamName">Team</div>
            <div class="d-sub" id="dTeamSub">—</div>
        </div>
        <button id="closeTeamDrawer" class="btn">关闭</button>
    </div>
    <div class="d-bd" id="teamDrawerBody">加载中…</div>
</div>

<!-- Round Drawer -->
<div id="roundDrawer" class="drawer">
    <div class="d-hd">
        <div>
            <div class="d-title" id="dRoundName">Round</div>
            <div class="d-sub" id="dRoundSub">—</div>
        </div>
        <button id="closeRoundDrawer" class="btn">关闭</button>
    </div>
    <div class="d-bd" id="roundDrawerBody">加载中…</div>
</div>

<script type="module" src="./assets/js/pages/hpl.js"></script>
</body>
</html>
